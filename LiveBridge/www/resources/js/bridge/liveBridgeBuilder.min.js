Bridge.define("LiveBridgeBuilder.App",{statics:{INIT_CS_CODE:'public class App \r\n{ \r\n    [Ready] \r\n    public static void Main() \r\n    { \r\n        var body = Document.Body;\r\n\r\n        var button = new ButtonElement\r\n        {\r\n            InnerHTML = "Click Me",\r\n            OnClick = (ev) => {\r\n                Global.Alert("Welcome to Bridge.NET");\r\n            } \r\n        };\r\n\r\n        body.AppendChild(button);\r\n    }\r\n}',MAX_KEYSTROKES:10,INTERVAL_DELAY:2e3,csEditor:null,jsEditor:null,keystrokes:0,interval:0,config:{init:function(){Bridge.ready(this.main);$("#btnTranslate").on("click",this.translate);$("#btnRun").on("click",this.hookRunEvent)}},main:function(){LiveBridgeBuilder.App.initEditors();LiveBridgeBuilder.App.setEditorSize(null);Bridge.global.onresize=LiveBridgeBuilder.App.setEditorSize;LiveBridgeBuilder.App.translate();$(".has-tooltip").tooltip()},initEditors:function(){var n=Bridge.global.ace;LiveBridgeBuilder.App.csEditor=n.edit("CsEditor");LiveBridgeBuilder.App.csEditor.setTheme("ace/theme/terminal");LiveBridgeBuilder.App.csEditor.getSession().setMode("ace/mode/csharp");LiveBridgeBuilder.App.csEditor.setWrapBehavioursEnabled(!0);LiveBridgeBuilder.App.csEditor.setValue(LiveBridgeBuilder.App.INIT_CS_CODE,1);LiveBridgeBuilder.App.hookCsEditorInputEvent();LiveBridgeBuilder.App.jsEditor=n.edit("JsEditor");LiveBridgeBuilder.App.jsEditor.setTheme("ace/theme/terminal");LiveBridgeBuilder.App.jsEditor.getSession().setMode("ace/mode/javascript");LiveBridgeBuilder.App.jsEditor.setValue("")},translate:function(){LiveBridgeBuilder.App.progress("Compiling...");$.ajax({url:"TranslateHandler.ashx?ajax=1",type:"POST",cache:!1,data:{cs:LiveBridgeBuilder.App.csEditor.getValue()},success:function(n){LiveBridgeBuilder.App.progress(null);Bridge.cast(n.Success,Boolean)?(LiveBridgeBuilder.App.jsEditor.setValue(n.JsCode),$("#hash").text(n.Hash.toString()),LiveBridgeBuilder.App.progress("Compiled Successfully!")):(LiveBridgeBuilder.App.jsEditor.setValue(n.ErrorMessage),$("#hash").text(""),LiveBridgeBuilder.App.progress("Finished with error(s)"))}})},onInterval:function(){LiveBridgeBuilder.App.keystrokes>0&&(LiveBridgeBuilder.App.keystrokes=LiveBridgeBuilder.App.MAX_KEYSTROKES,LiveBridgeBuilder.App.onCsEditorInput())},onCsEditorInput:function(){Bridge.global.clearInterval(LiveBridgeBuilder.App.interval);LiveBridgeBuilder.App.keystrokes>=LiveBridgeBuilder.App.MAX_KEYSTROKES?(LiveBridgeBuilder.App.keystrokes=0,LiveBridgeBuilder.App.translate()):(LiveBridgeBuilder.App.keystrokes++,LiveBridgeBuilder.App.interval=Bridge.global.setInterval(LiveBridgeBuilder.App.onInterval,LiveBridgeBuilder.App.INTERVAL_DELAY))},hookCsEditorInputEvent:function(){$("#CsEditor").keyup(LiveBridgeBuilder.App.onCsEditorInput)},hookRunEvent:function(){window.open("run.html?h="+$("#hash").text())},progress:function(n){var t=$("#progress");Bridge.String.isNullOrEmpty(n)?t.text(""):t.text(n)},setEditorSize:function(){var n=$("#masthead").outerHeight(),t=$(".titlebar").outerHeight(),i=$(".code-description").outerHeight(),r=$(".site-footer").outerHeight(),u=window.innerHeight-(n+t+i+r+30);$(".ace_editor").css("height",u)}}})